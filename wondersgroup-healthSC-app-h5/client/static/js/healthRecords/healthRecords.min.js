!function(){function a(a){return(document.location.search.match(new RegExp("(?:^\\?|&)"+a+"=(.*?)(?=&|$)"))||["",null])[1]}function i(a){d.hideImg();var i="";for(var e in a)i+='<li>        <div class="p_line">            <label>就诊时间：</label>            <p>'+a[e].date+'</p>        </div>        <div class="p_line">            <label>医　　院：</label>            <div class="td_p">                <div class="max-hei-1">'+a[e].hospital_name+'</div>            </div>        </div>        <div class="p_line">            <label>科　　室：</label>            <p>'+a[e].office_name+"</p>        </div>        </li>";$("#menulist").html(i).show(),$("#scrolling_wrap").scrollTop(0)}function e(a){d.hideImg();var i="";for(var e in a)i+='<li><a href="'+url+"/healthRecords/extractReportInfo?id="+a[e].id+"&name="+a[e].hospital_name+"&department="+a[e].department_name+"&type="+a[e].item_name+"&date="+a[e].date+"&uid="+s+'">        <div class="p_line">            <label>检查时间：</label>            <p>'+a[e].date+'</p>        </div>        <div class="p_line">            <label>医　　院：</label>            <div class="td_p">                <div class="max-hei-1">'+a[e].hospital_name+'</div>            </div>        </div>        <div class="p_line">            <label>科　　室：</label>            <p>'+a[e].department_name+'</p>        </div>        <div class="p_line">          <label>检查类别：</label>          <div class="td_p">              <div class="max-hei-1">'+a[e].item_name+'</div>          </div>        </div>        <span class="rarrow"></span>      </a></li>';$("#report").html(i).show(),$("#scrolling_wrap").scrollTop(0)}function l(a){d.hideImg();var i="";for(var e in a)i+='<li><a href="'+url+"/healthRecords/prescribingInfo?id="+a[e].id+"&uid="+s+"&name="+a[e].hospital_name+"&department="+a[e].department_name+"&amount="+a[e].prescription_amount+"&date="+a[e].print_time+'">      <div class="p_line">          <label>开方时间：</label>          <p>'+a[e].print_time+'</p>      </div>      <div class="p_line">          <label>医　　院：</label>          <div class="td_p">              <div class="max-hei-1">'+a[e].hospital_name+'</div>          </div>      </div>      <div class="p_line">          <label>科　　室：</label>          <p>'+a[e].department_name+'</p>      </div>      <div class="p_line">          <label>金　　额：</label>          <p>¥'+a[e].prescription_amount+'</p>      </div>      <span class="rarrow"></span>    </a></li>';$("#prescribing").html(i).show(),$("#scrolling_wrap").scrollTop(0)}function n(a){d.hideImg();var i="";for(var e in a)i+='<li><a href="'+url+"/healthRecords/operationInfo?id="+a[e].id+"&uid="+s+"&hospital_name="+a[e].hospital_name+"&office_name="+a[e].office_name+'" >        <div class="p_line">            <label>住院时间：</label>            <p>'+a[e].hospitalized_time+'</p>        </div>        <div class="p_line">            <label>医　　院：</label>            <div class="td_p">                <div class="max-hei-1">'+a[e].hospital_name+'</div>            </div>        </div>        <div class="p_line">            <label>科　　室：</label>            <p>'+a[e].office_name+'</p>        </div>        <span class="rarrow"></span>    </a></li>';$("#operation").html(i).show(),$("#scrolling_wrap").scrollTop(0)}var s=a("uid")||"",t=parseInt(a("page")),d={config:[{api:"/healthRecords/DoctorList?uid="+s,params:{}},{api:"/healthRecords/ReportList?uid="+s,params:{}},{api:"/healthRecords/Prescription?uid="+s,params:{}},{api:"/healthRecords/Hospitalization?uid="+s,params:{}}],getData:function(a){$.ajax({url:url+d.config[a].api,type:"get",dataType:"json",data:d.config[a].params,beforeSend:function(){$(".loading").show(),$("#menulist,.nodata").hide()}}).done(function(i){0==i.code&&i.data.content&&i.data.content.length?d.render(a,i.data.content):d.NoData()}).fail(function(){d.NoData()})},render:function(a,s){switch(a){case 0:i(s);break;case 1:e(s);break;case 2:l(s);break;case 3:n(s)}$(".loading").hide()},NoData:function(){$("#menulist,.loading").hide(),$(".nodata").show()},UI:function(){$("#menulist,.nodata").hide();var a=0;$("#menu li").on("tap",function(){a=$(this).index()}),d.UIChange(t)},UIChange:function(a){$("#menu li").eq(a).addClass("current").siblings().removeClass("current"),$("#inner-wrap > div").eq(a).addClass("current").siblings().removeClass("current"),d.getData(a)},hideImg:function(){$(".nodata").hide()}};d.UI(),window.joinURL=function(a){var i=url+"/healthRecords?uid="+s+"&page="+a+"&finish=true&forbidden=true";location.href=i}}();